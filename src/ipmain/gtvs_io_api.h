#ifndef GTVS_IO_API_H
#define GTVS_IO_API_H
#define BYTE unsigned char
#define WORD unsigned short
#define DWORD unsigned long


#include "mod_socket.h"
//#include "/home/zw/zhangwei/vserver/vs3_drivers/vs3_iodrv/driver/vs3io.h"




#ifndef OUT
#define OUT
#define INOUT
#define IN
#endif

#define GPIO_SET_INPUT 0x5 //ËÆæÁΩÆÊä•Ë≠¶ËæìÂÖ•Â∏∏ÂºÄÂ∏∏Èó≠Â±ûÊÄß
#define GPIO_GET_INPUT 0X6 //ËØªÂèñÊä•Ë≠¶ËæìÂÖ•Â∏∏ÂºÄÂ∏∏Èó≠Â±ûÊÄß
#define GPIO_GET_DWORD 0X7 //ËØªÂèñÊä•Ë≠¶ËæìÂÖ•Áä∂ÊÄÅ
#define GPIO_SET_DELAY 0X8 //ËÆæÁΩÆÊä•Ë≠¶ËæìÂÖ•Âª∂Êó∂
#define GPIO_GET_DELAY 0X9 //ËØªÂèñÊä•Ë≠¶ËæìÂÖ•Âª∂Êó∂
#define GPIO_SET_OUTPUT_VALUE 0x10 //ËÆæÁΩÆÊä•Ë≠¶ËæìÂá∫ioÁöÑÂÄº
#define GPIO_SET_HEARTBEAT    0x11
#define GPIO_GET_POWER        0x12

typedef struct{
	unsigned int on_delay;//ioÂèò‰∏∫È´òÂêéÁöÑÂª∂Êó∂
	unsigned int off_delay;//ioÂèò‰∏∫‰ΩéÂêéÁöÑÂª∂Êó∂
}TimeDelay;

struct relay_struct{
	int  ch;			//?Ãµ?????Õ®?¿∫?0??1??
	int  result;		//?Ãµ????«∑????? ( 1???? ?Õµ?∆Ω??0?÷∏? ?ﬂµ?∆Ω)
	};

//»± °???? ±???? ±??,??Œª????
#define DEF_VALID_DELAY		0
#define DEF_INVALID_DELAY	10

//int beep(void);

/**********************************************************************************************
 * ??????	:init_vsiodrv()
 * ????	:	?Úø™≤??? º????io?‹Ω≈ø??∆µƒø??≈π?,?Ãµ???,???????Ë±∏
 * ????	:	
 * ????÷µ	:0?? æ?…π???÷µ?? æ ß??
 **********************************************************************************************/
int	init_gpiodrv(void);


/**********************************************************************************************
 * ??????	:clear_watchdog_cnt()
 * ????	:	?‘ø??≈π??ƒº?????????????
 * ????	:	
 * ????÷µ	:0?? æ?…π???÷µ?? æ ß??
 **********************************************************************************************/
 //int clear_watchdog_cnt(void);

/**********************************************************************************************
 * ??????	:set_heart_beat(int)
 * ????	:	????????
 * ????	:	?? æ?ﬂµÕµ?∆Ω
 * ????÷µ	:0?? æ?…π???÷µ?? æ ß??
 **********************************************************************************************/
int set_heart_beat(int level);


/**********************************************************************************************
 * ??????	:set_trigin_delay()
 * ????	:	?Ë∂®???????”µ??? ±???? ±??
 		(√ª???Ë∂®?ƒª????????–∂?????»± °÷µDEF_VALID_DELAY, DEF_INVALID_DELAY)
 * ????	:	valid_delay: ?√∂??”¥”ª÷∏??????????? ±????
 			invalid_delay:?√∂??”¥”¥??????÷∏????? ±????	
 * ????÷µ	:0?? æ?…π???÷µ?? æ ß??
 **********************************************************************************************/
 int set_trigin_delay(int valid_delay, int invalid_delay);
 
/**************************************************************************
 * ??????	:set_trigin_attrib_perbit()
 * ????	:???????√∂???????????
 * ????	:attrib:??Œª?? æ?ƒ∂???????????÷µ 1?? æ???? 0?? æ????,»± °Œ™»´0
 * ????÷µ	:0?? æ?…π?????÷µ?? æ ß??
*************************************************************************/
int set_trigin_attrib_perbit(DWORD attrib);


/**************************************************************************
 * ??????	:set_trigout_attrib_perbit()
 * ????	:???√∂???????????
 * ????	:attrib:??Œª?? æ?ƒ∂???????????÷µ 1?? æ???? 0?? æ????,»± °Œ™»´0
 * ????÷µ	:0?? æ?…π?????÷µ?? æ ß??
*************************************************************************/
int set_trigout_attrib_perbit(DWORD attrib);


/**********************************************************************************************
 * ??????	:read_trigin_status()
 * ????	:	??»°???????????”µƒµ?«∞????◊¥Ã¨,
 *			??◊ºread?”ø⁄£??????›≤≈∑??ÿ£?
 *			(???À¥????Ë±∏???ƒµ?“ª???‚£¨√ø???????–±‰ªØ?≈¥”¥ÀΩ”ø⁄∑???)
 * ????	:	status,DWORD????÷∏??,??÷∏????DWORD??÷µ?”µÕµ???Œª?? æ???”¥?0??32Œª??◊¥Ã¨?????????? ±????
 *			1?? æ??Œª?–¥?????0?? æ√ª??
 * ????÷µ:  ?«∏?÷µ?? æ?¡µ????÷Ω???????÷µ?? æ ß??			
 * **********************************************************************************************/
 int  read_trigin_status(OUT DWORD *status);


 int  read_power_status(OUT DWORD *status);

/**********************************************************************************************
 * ??????	:set_relay_output()
 * ????	:	???Ãµ????????≈∫?
 * ????	:	ch:?Ãµ?????Õ®?¿∫?,??0?? º
 *		result:1?? æ?Ãµ?????????0?? æ?Ãµ????÷∏?
 
 * ????÷µ	:0?? æ?…π???÷µ?? æ ß??
 **********************************************************************************************/
int set_relay_output(int ch, int result);

/**********************************************************************************************
 * ??????	:send_require_reset()
 * ????	:	???????????Ó£¨????”¶Õ£÷πŒπ??????“ª?? ±?????Ë±∏??????
 * ????	:	
 * ????÷µ	:0?? æ?…π???÷µ?? æ ß??
 **********************************************************************************************/
//int send_require_reset(void);


/**************************************************************************
 * ??????	:set_beep()
 * ????	????????
 * ????	:???ƒ¥??? 
 * ????÷µ	:0?? æ?…π?????÷µ?? æ ß??
*************************************************************************/
//int set_beep(int cnt);

/**************************************************************************
 * ??????       :get_trigin_stat()
 * ????         :???????¡∂Àø?   
 * ????         :?Àø?◊¥Ã¨÷∏?? 
 * ????÷µ       :0?? æ?…π?????÷µ?? æ ß??
*************************************************************************/
//int get_trigin_stat(DWORD *stat);



/**************************************************************************
 * ??????       :reset_tw9910()
 * ????         :”≤??Œª9910
 * ????         :chip_no,–æ∆¨??,0Œ™??0∆¨??1Œ™??1∆¨
 * ????÷µ       :0?? æ?…π?????÷µ?? æ ß??
 *************************************************************************/
//int reset_tw9910(unsigned int chip_no);

/**********************************************************************************************
 * ??????	:exit_gpiodrv()
 * ????	:?ÿ±’∂Àø?????
 * ????	:	??
 * ????÷µ	:0?? æ?…π???÷µ?? æ ß??
 **********************************************************************************************/
int	exit_gpiodrv(void);

#endif

